{% extends ':layout:layouterp.html.twig' %}

{% block customcss %}
    <link rel="stylesheet" href="{{ asset('Resources/customscss/salestage.css') }}">
{% endblock %}
{% block descripcion %}
    <div class="col-md-5">
        <p class="robo" style="font-weight: 300; margin-bottom: 0px; font-size: 30px;">Gestión de productos</p>
        <p class="robo" style="font-weight: 300; font-size: 14px; ">Agregar, modificar or eliminar Productos.</p>
    </div>

{% endblock %}
{% block acciones %}
    <div class="col-md-7 text-right panel-body">
        <a href="{{path('admin_producto_new')}}" ><button data-loading-text="loading..." autocomplete="off" class="btnAdd btn btn-sm btn-primary btn-flat">Agregar</button></a>
        <button class="btnDelete btn btn-sm btn-danger btn-flat hidden">Elimnar</button>
        <button class="btnShow btn btn-sm btn-success btn-flat hidden">Show/Edit</button>        
        <button class="btnAction btn btn-sm btn-default btn-flat hidden">Action</button>
    </div>
{% endblock acciones %}

{% block navegacion %}
    <a href="/sepes/app_dev.php/admin/reporte/pacientes/reporte" class="leftnava"><li class="leftnav left ">Users management<span class="pull-right right"><i class=""></i></span></li></a>
    <a href="/sepes/app_dev.php/admin/reporte/ingresoemergencia" class="leftnava"><li class="leftnav left active"> management<span class="pull-right right"><i class="fa fa-arrow-right"></i></span></li></a>
{% endblock %}

{% block contenido %}
	<div class="row">
		{#<div class="col-md-12 col-xs-12">
			<div id="pnAdd" class="panel panel-default" style="display:none;">
    				<div class="panel-heading">Add</div>
    				<div class="panel-body">
    					<div class="col-md-6">
						<label>Name</label>
                                                <input id="id" type="text" value="-1" name="" class="input-sm form-control validateInput hidden">
						<input id="txtName" type="text" name="" class="input-sm form-control validateInput">
					</div>					
					<div class="col-md-6 pull-right text-right" style="margin-top:20px;">
						<button id="btnSave" class="btn btn-sm btn-primary">Save</button>
						<button id="btnCancel" class="btn btn-sm btn-default">Cancel</button>
					</div>
    				</div>#}
    				{# <div class="panel-footer">Panel Footer</div> #}
  			{#</div>
		</div>
		<div class="clearfix"></div>#}
		<div class="col-md-12 col-xs-12">
			<table id="producto" class="mdl-data-table" width="100%" cellspacing="0">
				  <thead>
						<tr>
                                                        <th style="text-align:center; width: 10px;" colspan="1" rowspan="1"><input class="chkItemAll" type="checkbox" name=""></th>
                                                        {#<th style="width: 20px; text-align: center;">Id</th>#}
                                                        <th style="text-align: center;">Nombre</th>
                                                        <th style="text-align: center;">Categoria</th>
                                                        <th style="text-align: center;">Precio</th>
                                                        <th style="text-align: center;">Stock</th>
                                                        
                                                        {#<th>Probability</th>
                                                        <th>State</th>#}
                                                        {#<th>Actions</th>#}
						</tr>
				  </thead>				  
			 </table>
		</div>
	</div>
	 {# <ul>
		  <li>
				<a href="{{ path('admin_ctlindustria_new') }}">Create a new entry</a>
		  </li>
	 </ul> #}
{% endblock %}

{% block js_extend %}
    <script type="text/javascript" src="{{ asset('Resources/validations/validation.js') }}"></script>
    <script type="text/javascript" src="{{ asset('Resources/persist/producto/producto.js') }}"></script>
    <script type="text/javascript" src="{{ asset('Resources/animations/producto/producto.js') }}"></script>
    <script type="text/javascript">
    $(document).ready(function() {
            /////Definición datatable            
            var table = $('#producto').DataTable({
                    dom:'ftp',
                    "processing": false,
                    "serverSide": true,
                    "ajax": {
                            "url": '{{path('admin_producto_data')}}',                            
                            "type": 'GET'
                    },
                    "columns": [
                            { "data": "chk" },
                            { "data": "name" },
                            { "data": "categoria" },
                            { "data": "precio" },
                            { "data": "stock" }
                            
                            
                            //{ "data": "Probability" },
                            //{ "data": "State" },
                            //{ "data": "actions" }
                    ],
                    "order":[1,'asc'],
                    "columnDefs": [
                            {"orderable": false, "targets": 0},                            
                            {"orderable": false, "targets": 3}                                                        
                    ]
            });
            /////Fin definición datatable
    });
    </script>
    

{% endblock %}



{#
{% extends 'base.html.twig' %}

{% block body %}
    <h1>Producto list</h1>

    <table>
        <thead>
            <tr>
                <th>Id</th>
                <th>Nombre</th>
                <th>Precio</th>
                <th>Numeroreferencia</th>
                <th>Estado</th>
                <th>Descripcion</th>
                <th>Link</th>
                <th>Ingredientes</th>
                <th>Presentacion</th>
                <th>Stock</th>
                <th>Actions</th>
            </tr>
        </thead>
        <tbody>
        {% for producto in productos %}
            <tr>
                <td><a href="{{ path('admin_producto_show', { 'id': producto.id }) }}">{{ producto.id }}</a></td>
                <td>{{ producto.nombre }}</td>
                <td>{{ producto.precio }}</td>
                <td>{{ producto.numeroreferencia }}</td>
                <td>{% if producto.estado %}Yes{% else %}No{% endif %}</td>
                <td>{{ producto.descripcion }}</td>
                <td>{{ producto.link }}</td>
                <td>{{ producto.ingredientes }}</td>
                <td>{{ producto.presentacion }}</td>
                <td>{{ producto.stock }}</td>
                <td>
                    <ul>
                        <li>
                            <a href="{{ path('admin_producto_show', { 'id': producto.id }) }}">show</a>
                        </li>
                        <li>
                            <a href="{{ path('admin_producto_edit', { 'id': producto.id }) }}">edit</a>
                        </li>
                    </ul>
                </td>
            </tr>
        {% endfor %}
        </tbody>
    </table>

    <ul>
        <li>
            <a href="{{ path('admin_producto_new') }}">Create a new entry</a>
        </li>
    </ul>
{% endblock %}#}